---
export interface Props {
  frontmatter: any;
  Content?: any;
}
const { frontmatter, Content } = Astro.props as Props;
---

<section class="py-20 px-4">
  <div class="max-w-6xl mx-auto relative">
    <a href="/portfolio" class="absolute right-4 top-4 w-10 h-10 rounded-full border border-emerald-600 flex items-center justify-center text-emerald-200 hover:bg-emerald-700/30 transition" aria-label="Back to portfolio">âœ•</a>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
      <aside>
        <div class="mb-4 p-6">
          <h1 class="text-4xl md:text-5xl font-bold mb-2 text-emerald-400">{frontmatter.title}</h1>
          {frontmatter.description ? <p class="text-gray-300 max-w-2xl">{frontmatter.description}</p> : null}
        </div>

        <div class="card-open mt-0">
          <h3 class="text-2xl font-bold text-emerald-400 mb-4">Project Details</h3>
          <div class="space-y-4">
            {frontmatter.tech ? (
              <div>
                <p class="text-emerald-300 font-semibold mb-2">Technologies</p>
                <div class="flex flex-wrap gap-2">
                  {frontmatter.tech.map((t) => (
                    <span class="px-3 py-1 bg-emerald-900/40 border border-emerald-500/20 rounded-full text-sm text-emerald-200">{t}</span>
                  ))}
                </div>
              </div>
            ) : null}

            {frontmatter.repo ? (
              <div>
                <p class="text-emerald-300 font-semibold mb-2">Repository</p>
                <a class="inline-block text-emerald-400 hover:text-emerald-300 break-all" href={frontmatter.repo} target="_blank" rel="noopener noreferrer">{frontmatter.repo}</a>
              </div>
            ) : null}
          </div>
        </div>
      </aside>

      <div class="md:mt-36">
        <div class="card-open prose prose-invert max-w-none text-lg leading-relaxed pt-0">
          <div>{Content ? <Content /> : <slot />}</div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  :global(.prose) { color: #e5e7eb; }
</style>
