---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import ProjectDetail from '../../components/ProjectDetail.astro';

export async function getStaticPaths() {
  const projects = await Astro.glob('../../content/projects/*.md');

  return projects.map((project) => ({
    params: { 
      slug: project.frontmatter.slug 
    }, 
    props: { 
      project 
    },
  }));
}
// ---------------------------------------------------------

const { project } = Astro.props;
const frontmatter = project.frontmatter;
const Content = project.Content;
---

<Layout title={frontmatter.title}>
  <Navbar />
  
  <ProjectDetail frontmatter={frontmatter}>
    <Content />
  </ProjectDetail>
</Layout>